Import('env')

includes = [
    '#core/include',
    '#core/include/cmsis'
]

sources = list()

if env['MCU'].startswith('NRF51'):
    sources.append('mcu/system_nrf51.c')

elif env['MCU'].startswith('NRF52'):
    sources.append('mcu/system_nrf52.c')

env.Append(CPPPATH=includes)


objects = env.SConscript('error/SConscript', exports=['env'])
print objects

library = env.Library(
    target = 'core',
    source = sources + objects
)

# env.Hex(
#     target = 'core',
#     source = sources
# )
